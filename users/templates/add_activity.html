{% extends "base_generic.html" %}

{% block title %}Add activity{% endblock %}


{% block content %}

    <h2>Add activity</h2>

    <form method="POST" action="{% url 'add_activity' %}">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Add Activity</button>
    </form>

    <!-- Add Skill Button -->
    <button type="button" id="addSkillButton" onclick="openModal()">Add New Skill</button>

    <!-- The Modal (Hidden Initially) -->
    <div id="addSkillModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>Add New Skill</h2>
            <form method="POST" action="{% url 'add_skill' %}">
                {% csrf_token %}
                <label for="skill_name">New Skill:</label>
                <input type="text" name="skill_name" id="skill_name" required>
                <button type="submit">Add Skill</button>
            </form>
        </div>
    </div>
    <p>
        <a href="{% url 'logout' %}">Log out</a>
    </p>

    <script>
        // window.onload = function() {
        //     const firstTextField = document.querySelector('input[type="text"]');
        //     if (firstTextField) {
        //         firstTextField.focus();
        //     }
        // };

        $(document).ready(function() {
            $('input[type="text"]').first().focus();
        });
        // Get the modal
        let modal = document.getElementById("addSkillModal");
    
        // Function to open the modal
        function openModal() {
            modal.style.display = "block";
        }
    
        // Function to close the modal
        function closeModal() {
            modal.style.display = "none";
        }
    
        // Close the modal if the user clicks outside of it
        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }
    </script>

{% endblock %}